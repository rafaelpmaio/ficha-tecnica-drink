{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rafae\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\portfolio\\\\ficha-drinks\\\\client\\\\src\\\\pages\\\\DrinkSetupPage\\\\IngredientsCard\\\\IngredientInputs\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport styles from \"pages/DrinkSetupPage/IngredientsCard/IngredientsCard.module.css\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport Input from \"components/Input\";\nimport Button from \"components/Button\";\nimport ingredientBuilder from \"../../../../shared/builders/ingredientBuilder\";\nimport resetInputs from \"../../../../shared/utils/resetInputs\";\nimport { DrinkCreationContext } from \"context/DrinkCreationContext\";\nimport validateInputIsFilled from \"errors/validateInputIsFilled\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function IngredientInputs() {\n  _s();\n  const {\n    ingredients,\n    sellPrice,\n    setIngredients,\n    confectionCost,\n    setConfectionCost,\n    setCostPercentage\n  } = useContext(DrinkCreationContext);\n  const [id, setId] = useState(0);\n  const [amount, setAmount] = useState(\"\");\n  const [measureUnit, setMeasureUnit] = useState(\"\");\n  const [ingredient, setIngredient] = useState(\"\");\n  const [cost, setCost] = useState(\"\");\n  const handleClick = event => {\n    event.preventDefault();\n    validateInputIsFilled(amount, measureUnit, ingredient, cost);\n    let newIngredient = ingredientBuilder(id, amount, measureUnit, ingredient, cost);\n    setIngredients([...ingredients, newIngredient]);\n    setId(id + 1);\n    resetInputs(setAmount, setMeasureUnit, setIngredient, setCost);\n  };\n  useEffect(() => {\n    setConfectionCost(ingredients.map(ingredient => ingredient.cost).reduce((total, current) => total + current, 0));\n    setCostPercentage(confectionCost / sellPrice * 100 || 0);\n  }, [ingredients, sellPrice, confectionCost]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${styles.ingredient_inputs_list} ${styles.ingredients_list}`,\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        id: \"quantidade\",\n        className: `${styles.ingredient_input} ${styles.coluna_quantidade}`,\n        labelText: \"Amount\",\n        type: \"number\",\n        value: amount,\n        onChange: valor => setAmount(valor)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        id: \"medida\",\n        className: `${styles.ingredient_input} ${styles.coluna_medida}`,\n        labelText: \"Unit\",\n        value: measureUnit,\n        onChange: valor => setMeasureUnit(valor)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        id: \"ingredientes\",\n        className: `${styles.ingredient_input} ${styles.coluna_ingrediente}`,\n        labelText: \"Ingredient\",\n        value: ingredient,\n        onChange: valor => setIngredient(valor)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        id: \"custo\",\n        className: `${styles.ingredient_input} ${styles.coluna_custo}`,\n        labelText: \"Cost\",\n        type: \"number\",\n        value: cost,\n        onChange: valor => setCost(valor)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleClick,\n      children: \"+\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(IngredientInputs, \"VVK1xFzg90ueU0n11+OTRRfFkBY=\");\n_c = IngredientInputs;\nvar _c;\n$RefreshReg$(_c, \"IngredientInputs\");","map":{"version":3,"names":["styles","React","useContext","useEffect","useState","Input","Button","ingredientBuilder","resetInputs","DrinkCreationContext","validateInputIsFilled","jsxDEV","_jsxDEV","Fragment","_Fragment","IngredientInputs","_s","ingredients","sellPrice","setIngredients","confectionCost","setConfectionCost","setCostPercentage","id","setId","amount","setAmount","measureUnit","setMeasureUnit","ingredient","setIngredient","cost","setCost","handleClick","event","preventDefault","newIngredient","map","reduce","total","current","children","className","ingredient_inputs_list","ingredients_list","ingredient_input","coluna_quantidade","labelText","type","value","onChange","valor","fileName","_jsxFileName","lineNumber","columnNumber","coluna_medida","coluna_ingrediente","coluna_custo","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Rafae/OneDrive/√Årea de Trabalho/portfolio/ficha-drinks/client/src/pages/DrinkSetupPage/IngredientsCard/IngredientInputs/index.tsx"],"sourcesContent":["import styles from \"pages/DrinkSetupPage/IngredientsCard/IngredientsCard.module.css\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport Input from \"components/Input\";\r\nimport Button from \"components/Button\";\r\nimport { IIngredient } from \"shared/interfaces/IIngredient\";\r\nimport ingredientBuilder from \"../../../../shared/builders/ingredientBuilder\";\r\nimport resetInputs from \"../../../../shared/utils/resetInputs\";\r\nimport { DrinkCreationContext } from \"context/DrinkCreationContext\";\r\nimport validateInputIsFilled from \"errors/validateInputIsFilled\";\r\n\r\nexport default function IngredientInputs() {\r\n  const {\r\n    ingredients,\r\n    sellPrice,\r\n    setIngredients,\r\n    confectionCost,\r\n    setConfectionCost,\r\n    setCostPercentage,\r\n  } = useContext(DrinkCreationContext);\r\n\r\n  const [id, setId] = useState(0);\r\n  const [amount, setAmount] = useState(\"\");\r\n  const [measureUnit, setMeasureUnit] = useState(\"\");\r\n  const [ingredient, setIngredient] = useState(\"\");\r\n  const [cost, setCost] = useState(\"\");\r\n\r\n  const handleClick = (\r\n    event: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n  ) => {\r\n\r\n    event.preventDefault();\r\n\r\n    validateInputIsFilled(amount, measureUnit, ingredient, cost);\r\n\r\n    let newIngredient = ingredientBuilder(\r\n      id,\r\n      amount,\r\n      measureUnit,\r\n      ingredient,\r\n      cost\r\n    );\r\n\r\n    setIngredients([...ingredients, newIngredient]);\r\n    setId(id + 1);\r\n\r\n    resetInputs(setAmount, setMeasureUnit, setIngredient, setCost);\r\n  };\r\n\r\n  useEffect(() => {\r\n\r\n    setConfectionCost(\r\n      ingredients\r\n        .map((ingredient) => ingredient.cost)\r\n        .reduce((total, current) => total + current, 0)\r\n    );\r\n\r\n    setCostPercentage((confectionCost / sellPrice) * 100 || 0);\r\n  \r\n  }, [ingredients, sellPrice, confectionCost]);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={`${styles.ingredient_inputs_list} ${styles.ingredients_list}`}\r\n      >\r\n        <Input\r\n          id=\"quantidade\"\r\n          className={`${styles.ingredient_input} ${styles.coluna_quantidade}`}\r\n          labelText=\"Amount\"\r\n          type=\"number\"\r\n          value={amount}\r\n          onChange={(valor) => setAmount(valor)}\r\n        />\r\n        <Input\r\n          id=\"medida\"\r\n          className={`${styles.ingredient_input} ${styles.coluna_medida}`}\r\n          labelText=\"Unit\"\r\n          value={measureUnit}\r\n          onChange={(valor) => setMeasureUnit(valor)}\r\n        />\r\n        <Input\r\n          id=\"ingredientes\"\r\n          className={`${styles.ingredient_input} ${styles.coluna_ingrediente}`}\r\n          labelText=\"Ingredient\"\r\n          value={ingredient}\r\n          onChange={(valor) => setIngredient(valor)}\r\n        />\r\n        <Input\r\n          id=\"custo\"\r\n          className={`${styles.ingredient_input} ${styles.coluna_custo}`}\r\n          labelText=\"Cost\"\r\n          type=\"number\"\r\n          value={cost}\r\n          onChange={(valor) => setCost(valor)}\r\n        />\r\n      </div>\r\n      <Button onClick={handleClick} >+</Button>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}